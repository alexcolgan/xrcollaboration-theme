jQuery(document).ready((function(){})),jQuery(window).resize((function(){}));var menu={},this_item={};function getVideo(){if(null!=pages[active_id]){var e=pages[active_id].post_media.featured_video;if(e.length>0)for(i=0;i<e.length;i++)setVideoPath(pages[active_id].post_media.featured_video[0].full_path)}}function setVideoPath(e){console.log("set video",e),jQuery("#bg-video video source").attr("src",e)}function initSite(){megaMenu(),sponsorFooter(),getVideo(),null==menus&&window.setTimeout(initSite(),100);setFilterAccordion("collaboration_type,platform"),jQuery("#filter-accordion").accordion({header:"h3",collapsible:!0,autoHeight:!1,navigation:!0})}jQuery((function(){jQuery("#main-menu").on("click","a.toggle-menu",(function(){jQuery(".exo-menu").toggleClass("display")}))}));var winTop=jQuery(window).scrollTop();function sponsorFooter(){var e=menus["sponsor-footer"].menu_array,t="",s="",i="",n="";console.log(e,e.length),console.log("profiles",profiles);for(var a=0;a<e.length;a++)console.log("profile ="+e[a].title,e[a].object_id,profiles[e[a].object_id]),i=profiles[e[a].object_id].post_media.logo[0].full_path,s=profiles[e[a].object_id].info.url,n=profiles[e[a].object_id].slug,console.log(s),t+="<div class='sponsor col-xs-2 col-sm-1' id='sponsor-footer-"+n.toLowerCase()+"'><a href='"+s+"' target='_new' title='"+e[a].title+"'> ",t+='<img src="'+i+'" alt="'+e[a].title+' logo">',t+="</a></div>";jQuery("#sponsor-footer").html(t),jQuery("#sponsor-footer-area").attr("class","sponsor col-xs-offset-2 col-sm-offset-0 col-xs-2 col-sm-1")}jQuery((function(){jQuery(window).scroll((function(){winTop>=30?(jQuery("#site-title").addClass("sticky-header"),jQuery("#main-menu").addClass("sticky-header"),jQuery("#pinned-nav").addClass("sticky-header")):(jQuery("#site-title").removeClass("sticky-header"),jQuery("#main-menu").removeClass("sticky-header"),jQuery("#pinned-nav").removeClass("sticky-header"))}))}));var directory_list=[],active_filters={};function displayDirectory(e,t){var s="<div>";for(p in t)s+='<div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">',s+='<a href = "'+t[p].url+'" target="_new ">',s+='<img src="'+t[p].logo+'" alt="'+t[p].title+' logo"></a><span class="profile-label"'+t[p].title+"</span></div>";s+="</div>",jQuery("#profile_logos").html(s)}function setFilterAccordion(e){var t='<form id="filters">';jQuery.each(e.split(","),(function(e,s){for(e in active_filters[s]={},t+="<h3>"+s.replace("_"," ")+"</h3>",t+='<div class="accordion-drawer">',taxonomies[s])taxonomies[s][e].posts.length&&(t+='<span class="data-filter"><input class="form-checkbox" type="checkbox" name="'+taxonomies[s][e].slug+'" data-tax="'+s+'" value="'+taxonomies[s][e].id+'"><span class="data-label">'+taxonomies[s][e].name+"</span></span>");t+="</div>"})),t+="</div>",jQuery("#filter-accordion").html(t)}function buildFilters(e,t,s){var i=active_filters[t],n={},o={};for(a in"add"===e?i[s]=s:"remove"===e&&delete i[s],active_filters){var r,l=$.isEmptyObject(active_filters[a]);if(o[a]={},!1===l)for(f in active_filters[a]){o[a][f]=taxonomies[a][f].name;for(var u=0;u<taxonomies[a][f].posts.length;u++)r=taxonomies[a][f].posts[u],console.log(u,profile_posts[r]),null!=profile_posts[r].post_media.logo[0]&&(n[r]=getFilterPosts(r))}}displayDirectory(o,n)}function getFilterPosts(e){return post_data={logo:profile_posts[e].post_media.logo[0].full_path,title:profile_posts[e].title,url:profile_posts[e].info.url}}function getStatPosts(){for(i in spectators)for(p=0;p<spectators[i].length;p++)filter_posts[this_post]=getFilterPosts(spectators[i][p]),console.log("spectator_posts",i,profile_posts[spectators[i][p]].title);for(i in collaborators)for(p=0;p<collaborators[i].length;p++)console.log("collaborators_posts",i,profile_posts[collaborators[i][p]].title)}$(document).on("click","#filters :checkbox",(function(){var e=jQuery(this).attr("value"),t=jQuery(this).data("tax");this.checked?buildFilters("add",t,e):buildFilters("remove",t,e)}));var posts={},pages={},profiles={},taxonomies={},categories={},tags={},menus={},media={},posts_nav={},posts_slug_ids={},last_dest="outer-nav",menu_levels=[],menu_slides=[],related={},data_score=7,data_loaded=[],state={},social={},profile_posts=(data_loaded=!1,{});function getStaticJSON(e,t,s){var i=data_path+e+".json";jQuery.ajax({url:i,data:"",success:function(e,i,n){return t(e,s)},error:function(e,t,s){},cache:!1})}function setData(e){for(p in posts=setPosts(e.posts),pages=setPosts(e.pages),profiles=setPosts(e.profile))"profile"==profiles[p].type&&(profile_posts[profiles[p].id]=profiles[p]);setCategories(e.categories),setTaxonomy(e,"industry"),setTaxonomy(e,"feature"),setTaxonomy(e,"collaboration_type"),setTaxonomy(e,"platform"),setTags(e.tags),setMenus(e.menus),initSite(),data_loaded=!0}function setPosts(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)void 0!==e[t].title&&void 0!==e[t].title.rendered&&(e[t].title=e[t].title.rendered),void 0!==e[t].content&&void 0!==e[t].content.rendered&&(e[t].content=e[t].content.rendered),void 0!==e[t].type&&(e[t].type,posts[e[t].id]=e[t]);else null!=e&&(console.log("data about to error",e),e.type,posts[e.id]=e);return posts}function setMedia(e){for(var t=0;t<e.length;t++)media[e[t].id]=e[t].data;console.log("media",media)}function getMediaID(e,t){if(null!=posts[id][t]){var s=posts[e][t];return s>0&&null!=media[s]?s:0}return 0}function getImageSRC(e,t,s){if(null!=media[e]){var i=uploads_path+media[e].path,n=media[e].file;return"image/svg+xml"==media[e].mime?i+n:i+(n="square"==s||1==s||"thumbnail"==s?getSquareVersion(media[e].meta.sizes,t):media[e].meta.sizes[s])}return""}function toggleFace(e,t){return"front"==state[e].transition.face?"back":"front"}function loadTemplate(e,t){var s=jQuery("#"+e+"-template").html();if("flip"==t){var i='<div class="card front">'+s+"</div>",n='<div class="card back">'+s+"</div>";jQuery("#"+e).html(i+n)}else jQuery("#"+e).html(s)}function clearImageText(){}function getAspect(e,t){return e==t?"square":Math.round(e/t)}function setImageContent(e,t,s,i,n,a){setTimeout((function(){jQuery(e+" .title").html(t),jQuery(e+" .caption").html(s),jQuery(e+" .description").html(i),jQuery(e+" .image").attr("alt",n),jQuery(e+" .image").attr("src",a)}),250)}function transitionImage(e,t,s){""!=jQuery("#"+e).html()&&state[e].transition==t||(state[e].transition.type=t,loadTemplate(e,t));var i=getImageSRC(s,e+" .image",getAspect(parseInt(jQuery("#"+e).width()),parseInt(jQuery("#"+e).height())));if("flip"==t){var n=toggleFace(e,t);console.log("FLIP",n,e,t,s,i),null!=media[s]?(setImageContent("#"+e+" ."+n,media[s].title,media[s].caption,media[s].desc,media[s].alt,i),state[e].transition.face=n):setImageContent("#"+e+" ."+n,"","","","",""),jQuery("#"+e).toggleClass("is-flipped")}}function setImage(e,t,s,i,n){if(null!=posts[e]){var a=getMediaID(e,s);a>0?(jQuery("#"+t).fadeIn(),transitionImage(t,"flip",a)):jQuery("#"+t).fadeOut()}}function wrapTag(e,t){return"<"+e+">"+t+"</"+e+">"}function setMediaText(e,t){null!=media[e]?(jQuery("#"+t+"-title").html(media[e].title),jQuery("#"+t+"-caption").html(media[e].caption),jQuery("#"+t+"-description").html(media[e].desc),jQuery("#"+t).attr("alt",media[e].alt)):(jQuery("#"+t+"-title").html(""),jQuery("#"+t+"-caption").html(""),jQuery("#"+t+"-description").html(""),jQuery("#"+t).attr("alt",""))}function getSquareVersion(e,t){return box={w:jQuery(t+"-container").width(),h:jQuery(t+"-container").height()},box.w>1280||box.h>1280?e["sq-lg"]:(box.w>250||box.h>250)&&(box.w<=1280||box.h<=1280)?e["sq-med"]:e["sq-sm"]}function setVideo(e,t){if(null!=media[e]){var s=uploads_path+media[e].path,i=media[e].file;jQuery(t+" video source").attr("src",s+i);jQuery(t+" video")[0].load(),jQuery(t+" video source").attr("src",s+i),jQuery(t).fadeIn()}else jQuery(t).fadeOut()}function setScreenImages(e,t,s){for(var i=[],n=0;n<e.length;n++)i.push({src:getImageSRC(e[n],"#screen-image","square"),data:media[e[n]]});state.screen_images=i,i.length>0&&"circleViewer"==s&&circleViewer(t,state.screen_images)}function megaMenu(){var e='<nav id="megamenu" class="content">';e+='<ul class="exo-menu">',e+=getMegaMenu(menus.megamenu.menu_levels,""),e+='<a href="#" class="toggle-menu visible-xs-block"><i class="fa fa-bars"></i></a>',e+="</ul></nav>",jQuery("#main-menu").html(e)}function getMegaMenu(e,t){for(var s=0,i="",n="",a="",o="",r="",l="#",u="li",c="",d=0;d<e.length;d++)if(o="",r="",n="",l="",u="li",""!=(s=e[d]).classes&&(n=' class="'+s.classes+'"',a=s.classes+"-ul"),null!=s.classes){switch(s.classes.indexOf("mega-drop-down")?(o='<div class="animated fadeIn mega-menu">',o+='<div class="mega-menu-wrap">',o+='<div class="row">',o='<ul class="'+a+' animated fadeIn">',r="</ul></div></div></div>"):(s.classes.indexOf("drop-down"),o='<ul class="'+a+' animated fadeIn">',r="</ul>"),"mega-drop-down"==s.parent_classes&&(u="div"),s.object,s.object){case"feature":case"category":case"industry":case"custom":case"conference":case"award":l=s.url}""==s.url?(""!=s.target&&(c='target="_blank"'),i+="<"+u+" "+n+'><a href="'+l+'"'+c+">"+s.title+"</a>"):i+="<"+u+" "+n+'><a href="'+s.url+'">'+s.title+"</a>",null!=s.children&&s.children.length>0&&(i+=o,i+=getMegaMenu(s.children,s.classes),i+=r),i+="</li>"}return i}state.featured={transition:{type:"flip",face:"front"}},0==data_loaded&&getStaticJSON("content",setData);var menu_config={megamenu:{menu_type:"megamenu",location:"#main-menu"},"sponsor-footer":{menu_type:"profile",location:"#sponsor-footer"},"social-links":{menu_type:"social",location:"#social"}};function setMenus(e){for(var t=0;t<e.length;t++)menus[e[t].slug]={},menus[e[t].slug].menu_array=[],menus[e[t].slug].name=e[t].name,menus[e[t].slug].slug=e[t].slug,menus[e[t].slug].items=setMenu(e[t].slug,e[t].items);buildMenuData()}function setMenu(e,t){menu={};for(var s=0;s<t.length;s++)menu[t[s].ID]=setMenuItem(e,t[s]),0!=t[s].menu_item_parent&&menu[t[s].menu_item_parent].children.push(t[s].ID),menus[e].menu_array.push(menu[t[s].ID]);return menu}function setMenuItem(e,t){return(this_item={}).menu_id=t.ID,this_item.title=t.title,this_item.menu_order=t.menu_order,this_item.object=t.object,this_item.object_id=t.object_id,this_item.parent=t.menu_item_parent,this_item.classes=t.classes,this_item.url=t.url,this_item.description=t.description,this_item.slug=e,this_item.children=[],this_item}function menu_order(e,t){return e.menu_order<t.menu_order?-1:e.menu_order>t.menu_order?1:0}function setLinearNav(e){menus[e].linear_nav=[];for(var t in menus[e].items)menus[e].items[t].slug=t,menus[e].items[t].object_id,menus[e].linear_nav.push(menus[e].items[t]);menus[e].linear_nav.sort(menu_order)}function setLinearDataNav(e,t){menus[e].data_nav=[],menus[e].slug_nav=[];for(var s=0,i=0,n=0,a=0,o="outer-nav",r=0;r<t.length;r++){o="outer-nav",t[r].dest=o,t[r].slice=i,t[r].notch=s,n=s,menus[e].data_nav.push(t[r]),menus[e].slug_nav[t[r].slug]=s,s++;for(var l=0;l<t[r].children.length;l++){t[r].children[l].dest="inner-nav",t[r].children[l].slice=l,t[r].children[l].notch=s,t[r].children[l].parent=n,a=s,menus[e].data_nav.push(t[r].children[l]),menus[e].slug_nav[t[r].children[l].slug]=s,s++;for(var u=0;u<t[r].children[l].children.length;u++)t[r].children[l].children[u].dest="inner-subnav",t[r].children[l].children[u].slice=u,t[r].children[l].children[u].notch=s,t[r].children[l].children[u].grandparent=n,t[r].children[l].children[u].parent=a,menus[e].data_nav.push(t[r].children[l].children[u]),menus[e].slug_nav[t[r].children[l].children[u].slug]=s,s++}i++}}function getSlug(e,t,s,i){var n="";return null!=e&&(n=e.slug,null!=posts[e.object_id]&&(n=posts[e.object_id].slug)),n}function buildMenuData(){if(null==posts)window.setTimeout(buildMenuData(),10);else for(var e in menus){var t=[];if(null!=menu_config[e]){for(var s in menus[e].menu_array=[],menus[e].items)0==menus[e].items[s].parent&&menus[e].menu_array.push(menus[e].items[s]);menus[e].menu_array.sort(menu_order);for(var i=[],n=menus[e].menu_array,a="",o=0;o<n.length;o++){i=[];for(var r=0;r<n[o].children.length;r++){for(var l=[],u=menus[e].items[n[o].children[r]].children,c=0;c<u.length;c++)a=getSlug(menus[e].items[u[c]],c,"g",u,c),l.push({title:menus[e].items[u[c]].title,url:menus[e].items[u[c]].url,slug:a,object:menus[e].items[u[c]].object,object_id:menus[e].items[u[c]].object_id,classes:menus[e].items[u[c]].classes,description:menus[e].items[u[c]].description});a=getSlug(menus[e].items[n[o].children[r]],"c",n[o].children[r],r),i.push({title:menus[e].items[n[o].children[r]].title,slug:a,url:menus[e].items[n[o].children[r]].url,object:menus[e].items[n[o].children[r]].object,object_id:menus[e].items[n[o].children[r]].object_id,classes:menus[e].items[n[o].children[r]].classes,description:menus[e].items[n[o].children[r]].description,children:l})}a=getSlug(n[o],"o",n,o),t.push({title:n[o].title,slug:a,url:n[o].url,object:n[o].object,object_id:n[o].object_id,children:i,classes:n[o].classes,description:n[o].description})}menus[e].menu_levels=t,menu_levels=t,setLinearDataNav(e,t),setLinearNav(e)}}}function setChildCategories(e){for(var t=0;t<e.length;t++)categories[e[t].id]=e[t];return e}function setCategories(e){if(null!=e)for(var t=0;t<e.length;t++)categories[e[t].id]=e[t];return e}function setTaxonomy(e,t){if(taxonomies[t]={},null!=e[t])for(var s=0;s<e[t].length;s++)taxonomies[t][e[t][s].id]=e[t][s];return console.log(t,taxonomies[t]),e}function setTags(e){for(var t=0;t<e.length;t++)tags[e[t].id]=e[t];return e}