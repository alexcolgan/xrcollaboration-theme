jQuery(document).ready((function(){})),jQuery(window).resize((function(){}));var menu={},this_item={};function getVideo(){if(null!=pages[active_id]){var e=pages[active_id].post_media.featured_video;if(e.length>0)for(i=0;i<e.length;i++)setVideoPath(pages[active_id].post_media.featured_video[0].full_path)}}function setVideoPath(e){console.log("set video",e),jQuery("#bg-video video source").attr("src",e)}function initSite(){megaMenu(),sponsorFooter(),getVideo(),null==menus&&window.setTimeout(initSite(),100);setFilterAccordion("feature,industry,collaboration_type,platform"),jQuery("#filter-accordion").accordion({header:"h3",collapsible:!0,autoHeight:!1,navigation:!0})}jQuery((function(){jQuery("#main-menu").on("click","a.toggle-menu",(function(){jQuery(".exo-menu").toggleClass("display")}))}));var winTop=jQuery(window).scrollTop();function sponsorFooter(){for(var e=menus["sponsor-footer"].menu_array,t="",n="",i=0;i<e.length;i++)n=profiles[e[i].object_id].post_media.logo[0].full_path,t+="<a class='sponsor col-xs-2 col-sm-1' href='"+profiles[e[i].object_id].url+"' target='_new' title='"+e[i].title+"'> ",t+='<img src="'+n+'" alt="'+e[i].title+' logo">',t+="</a>";jQuery("#sponsor-footer").html(t)}jQuery((function(){jQuery(window).scroll((function(){winTop>=30?(jQuery("#site-title").addClass("sticky-header"),jQuery("#main-menu").addClass("sticky-header"),jQuery("#pinned-nav").addClass("sticky-header")):(jQuery("#site-title").removeClass("sticky-header"),jQuery("#main-menu").removeClass("sticky-header"),jQuery("#pinned-nav").removeClass("sticky-header"))}))}));var directory_list=[],active_filters={};function displayDirectory(e,t){console.log("FILTERS",e,t);var n="<div>";for(p in t)n+='<div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">',n+='<a href = "'+t[p].url+'" target="_new ">',n+='<img src="'+t[p].logo+'" alt="'+t[p].title+' logo"></a><span class="profile-label"'+t[p].title+"</span></div>";n+="</div>",jQuery("#profile_logos").html(n)}function setFilterAccordion(e){var t='<form id="filters">';jQuery.each(e.split(","),(function(e,n){for(e in active_filters[n]={},t+="<h3>"+n.replace("_"," ")+"</h3>",t+='<div class="accordion-drawer">',taxonomies[n])taxonomies[n][e].posts.length&&(t+='<span class="data-filter"><input class="form-checkbox" type="checkbox" name="'+taxonomies[n][e].slug+'" data-tax="'+n+'" value="'+taxonomies[n][e].id+'"><span class="data-label">'+taxonomies[n][e].name+"</span></span>");t+="</div>"})),t+="</div>",jQuery("#filter-accordion").html(t)}function buildFilters(e,t,n){var i=active_filters[t],s={},r={};for(a in"add"===e?i[n]=n:"remove"===e&&delete i[n],active_filters){var o,l,u=$.isEmptyObject(active_filters[a]);if(r[a]={},!1===u)for(f in active_filters[a]){r[a][f]=taxonomies[a][f].name;for(var c=0;c<taxonomies[a][f].posts.length;c++)o=taxonomies[a][f].posts[c],console.log(c,profile_posts[o]),null!=profile_posts[o].post_media.logo[0]&&(l={logo:profile_posts[o].post_media.logo[0].full_path,title:profile_posts[o].title,url:profile_posts[o].info.url},s[o]=l)}}displayDirectory(r,s)}jQuery(document).ready((function(){})),$(document).on("click","#filters :checkbox",(function(){var e=jQuery(this).attr("value"),t=jQuery(this).data("tax");this.checked?buildFilters("add",t,e):buildFilters("remove",t,e)}));var posts={},pages={},profiles={},taxonomies={},categories={},tags={},menus={},media={},posts_nav={},posts_slug_ids={},last_dest="outer-nav",menu_levels=[],menu_slides=[],related={},data_score=7,data_loaded=[],state={},social={},profile_posts=(data_loaded=!1,{});function getStaticJSON(e,t,n){var i=data_path+e+".json";jQuery.ajax({url:i,data:"",success:function(e,i,s){return console.log("load json",e),t(e,n)},error:function(e,t,n){},cache:!1})}function setData(e){for(p in posts=setPosts(e.posts),pages=setPosts(e.pages),profiles=setPosts(e.profile))"profile"==profiles[p].type&&(profile_posts[profiles[p].id]=profiles[p]);setCategories(e.categories),setTaxonomy(e,"industry"),setTaxonomy(e,"feature"),setTaxonomy(e,"collaboration_type"),setTaxonomy(e,"platform"),setTags(e.tags),setMenus(e.menus),initSite(),data_loaded=!0}function setPosts(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)void 0!==e[t].title&&void 0!==e[t].title.rendered&&(e[t].title=e[t].title.rendered),void 0!==e[t].content&&void 0!==e[t].content.rendered&&(e[t].content=e[t].content.rendered),void 0!==e[t].type&&(e[t].type,posts[e[t].id]=e[t]);else null!=e&&(console.log("data about to error",e),e.type,posts[e.id]=e);return posts}function setMedia(e){for(var t=0;t<e.length;t++)media[e[t].id]=e[t].data;console.log("media",media)}function getMediaID(e,t){if(null!=posts[id][t]){var n=posts[e][t];return n>0&&null!=media[n]?n:0}return 0}function getImageSRC(e,t,n){if(null!=media[e]){var i=uploads_path+media[e].path,s=media[e].file;return"image/svg+xml"==media[e].mime?i+s:i+(s="square"==n||1==n||"thumbnail"==n?getSquareVersion(media[e].meta.sizes,t):media[e].meta.sizes[n])}return""}function toggleFace(e,t){return"front"==state[e].transition.face?"back":"front"}function loadTemplate(e,t){var n=jQuery("#"+e+"-template").html();if("flip"==t){var i='<div class="card front">'+n+"</div>",s='<div class="card back">'+n+"</div>";jQuery("#"+e).html(i+s)}else jQuery("#"+e).html(n)}function clearImageText(){}function getAspect(e,t){return e==t?"square":Math.round(e/t)}function setImageContent(e,t,n,i,s,a){setTimeout((function(){jQuery(e+" .title").html(t),jQuery(e+" .caption").html(n),jQuery(e+" .description").html(i),jQuery(e+" .image").attr("alt",s),jQuery(e+" .image").attr("src",a)}),250)}function transitionImage(e,t,n){""!=jQuery("#"+e).html()&&state[e].transition==t||(state[e].transition.type=t,loadTemplate(e,t));var i=getImageSRC(n,e+" .image",getAspect(parseInt(jQuery("#"+e).width()),parseInt(jQuery("#"+e).height())));if("flip"==t){var s=toggleFace(e,t);console.log("FLIP",s,e,t,n,i),null!=media[n]?(setImageContent("#"+e+" ."+s,media[n].title,media[n].caption,media[n].desc,media[n].alt,i),state[e].transition.face=s):setImageContent("#"+e+" ."+s,"","","","",""),jQuery("#"+e).toggleClass("is-flipped")}}function setImage(e,t,n,i,s){if(null!=posts[e]){var a=getMediaID(e,n);a>0?(jQuery("#"+t).fadeIn(),transitionImage(t,"flip",a)):jQuery("#"+t).fadeOut()}}function wrapTag(e,t){return"<"+e+">"+t+"</"+e+">"}function setMediaText(e,t){null!=media[e]?(jQuery("#"+t+"-title").html(media[e].title),jQuery("#"+t+"-caption").html(media[e].caption),jQuery("#"+t+"-description").html(media[e].desc),jQuery("#"+t).attr("alt",media[e].alt)):(jQuery("#"+t+"-title").html(""),jQuery("#"+t+"-caption").html(""),jQuery("#"+t+"-description").html(""),jQuery("#"+t).attr("alt",""))}function getSquareVersion(e,t){return box={w:jQuery(t+"-container").width(),h:jQuery(t+"-container").height()},box.w>1280||box.h>1280?e["sq-lg"]:(box.w>250||box.h>250)&&(box.w<=1280||box.h<=1280)?e["sq-med"]:e["sq-sm"]}function setVideo(e,t){if(null!=media[e]){var n=uploads_path+media[e].path,i=media[e].file;jQuery(t+" video source").attr("src",n+i);jQuery(t+" video")[0].load(),jQuery(t+" video source").attr("src",n+i),jQuery(t).fadeIn()}else jQuery(t).fadeOut()}function setScreenImages(e,t,n){for(var i=[],s=0;s<e.length;s++)i.push({src:getImageSRC(e[s],"#screen-image","square"),data:media[e[s]]});state.screen_images=i,i.length>0&&"circleViewer"==n&&circleViewer(t,state.screen_images)}function megaMenu(){var e='<nav id="megamenu" class="content">';e+='<ul class="exo-menu">',e+=getMegaMenu(menus.megamenu.menu_levels,""),e+='<a href="#" class="toggle-menu visible-xs-block"><i class="fa fa-bars"></i></a>',e+="</ul></nav>",jQuery("#main-menu").html(e)}function getMegaMenu(e,t){for(var n=0,i="",s="",a="",r="",o="",l="#",u="li",c="",d=0;d<e.length;d++)if(r="",o="",s="",l="",u="li",""!=(n=e[d]).classes&&(s=' class="'+n.classes+'"',a=n.classes+"-ul"),null!=n.classes){switch(n.classes.indexOf("mega-drop-down")?(r='<div class="animated fadeIn mega-menu">',r+='<div class="mega-menu-wrap">',r+='<div class="row">',r='<ul class="'+a+' animated fadeIn">',o="</ul></div></div></div>"):(n.classes.indexOf("drop-down"),r='<ul class="'+a+' animated fadeIn">',o="</ul>"),"mega-drop-down"==n.parent_classes&&(u="div"),n.object,n.object){case"feature":case"category":case"industry":case"custom":case"conference":case"award":l=n.url}""!=n.target&&(c='target="_blank"'),""==n.url?i+="<"+u+" "+s+'><a href="'+l+'"'+c+">"+n.title+"</a>":i+="<"+u+" "+s+'><a href="'+n.url+'">'+n.title+"</a>",null!=n.children&&n.children.length>0&&(i+=r,i+=getMegaMenu(n.children,n.classes),i+=o),i+="</li>"}return i}state.featured={transition:{type:"flip",face:"front"}},0==data_loaded&&getStaticJSON("content",setData);var menu_config={megamenu:{menu_type:"megamenu",location:"#main-menu"},"sponsor-footer":{menu_type:"profile",location:"#sponsor-footer"},"social-links":{menu_type:"social",location:"#social"}};function setMenus(e){for(var t=0;t<e.length;t++)menus[e[t].slug]={},menus[e[t].slug].menu_array=[],menus[e[t].slug].name=e[t].name,menus[e[t].slug].slug=e[t].slug,menus[e[t].slug].items=setMenu(e[t].slug,e[t].items);buildMenuData()}function setMenu(e,t){menu={};for(var n=0;n<t.length;n++)menu[t[n].ID]=setMenuItem(e,t[n]),0!=t[n].menu_item_parent&&menu[t[n].menu_item_parent].children.push(t[n].ID),menus[e].menu_array.push(menu[t[n].ID]);return menu}function setMenuItem(e,t){return(this_item={}).menu_id=t.ID,this_item.title=t.title,this_item.menu_order=t.menu_order,this_item.object=t.object,this_item.object_id=t.object_id,this_item.parent=t.menu_item_parent,this_item.classes=t.classes,this_item.url=t.url,this_item.description=t.description,this_item.slug=e,this_item.children=[],this_item}function menu_order(e,t){return e.menu_order<t.menu_order?-1:e.menu_order>t.menu_order?1:0}function setLinearNav(e){menus[e].linear_nav=[];for(var t in menus[e].items)menus[e].items[t].slug=t,menus[e].items[t].object_id,menus[e].linear_nav.push(menus[e].items[t]);menus[e].linear_nav.sort(menu_order)}function setLinearDataNav(e,t){menus[e].data_nav=[],menus[e].slug_nav=[];for(var n=0,i=0,s=0,a=0,r="outer-nav",o=0;o<t.length;o++){r="outer-nav",t[o].dest=r,t[o].slice=i,t[o].notch=n,s=n,menus[e].data_nav.push(t[o]),menus[e].slug_nav[t[o].slug]=n,n++;for(var l=0;l<t[o].children.length;l++){t[o].children[l].dest="inner-nav",t[o].children[l].slice=l,t[o].children[l].notch=n,t[o].children[l].parent=s,a=n,menus[e].data_nav.push(t[o].children[l]),menus[e].slug_nav[t[o].children[l].slug]=n,n++;for(var u=0;u<t[o].children[l].children.length;u++)t[o].children[l].children[u].dest="inner-subnav",t[o].children[l].children[u].slice=u,t[o].children[l].children[u].notch=n,t[o].children[l].children[u].grandparent=s,t[o].children[l].children[u].parent=a,menus[e].data_nav.push(t[o].children[l].children[u]),menus[e].slug_nav[t[o].children[l].children[u].slug]=n,n++}i++}}function getSlug(e,t,n,i){var s="";return null!=e&&(s=e.slug,null!=posts[e.object_id]&&(s=posts[e.object_id].slug)),s}function buildMenuData(){if(null==posts)window.setTimeout(buildMenuData(),10);else for(var e in menus){var t=[];if(null!=menu_config[e]){for(var n in menus[e].menu_array=[],menus[e].items)0==menus[e].items[n].parent&&menus[e].menu_array.push(menus[e].items[n]);menus[e].menu_array.sort(menu_order);for(var i=[],s=menus[e].menu_array,a="",r=0;r<s.length;r++){i=[];for(var o=0;o<s[r].children.length;o++){for(var l=[],u=menus[e].items[s[r].children[o]].children,c=0;c<u.length;c++)a=getSlug(menus[e].items[u[c]],c,"g",u,c),l.push({title:menus[e].items[u[c]].title,url:menus[e].items[u[c]].url,slug:a,object:menus[e].items[u[c]].object,object_id:menus[e].items[u[c]].object_id,classes:menus[e].items[u[c]].classes,description:menus[e].items[u[c]].description});a=getSlug(menus[e].items[s[r].children[o]],"c",s[r].children[o],o),i.push({title:menus[e].items[s[r].children[o]].title,slug:a,url:menus[e].items[s[r].children[o]].url,object:menus[e].items[s[r].children[o]].object,object_id:menus[e].items[s[r].children[o]].object_id,classes:menus[e].items[s[r].children[o]].classes,description:menus[e].items[s[r].children[o]].description,children:l})}a=getSlug(s[r],"o",s,r),t.push({title:s[r].title,slug:a,url:s[r].url,object:s[r].object,object_id:s[r].object_id,children:i,classes:s[r].classes,description:s[r].description})}menus[e].menu_levels=t,menu_levels=t,setLinearDataNav(e,t),setLinearNav(e)}}}function setChildCategories(e){for(var t=0;t<e.length;t++)categories[e[t].id]=e[t];return e}function setCategories(e){if(null!=e)for(var t=0;t<e.length;t++)categories[e[t].id]=e[t];return e}function setTaxonomy(e,t){if(taxonomies[t]={},null!=e[t])for(var n=0;n<e[t].length;n++)taxonomies[t][e[t][n].id]=e[t][n];return console.log(t,taxonomies[t]),e}function setTags(e){for(var t=0;t<e.length;t++)tags[e[t].id]=e[t];return e}